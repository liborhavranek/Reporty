{% extends "base.html" %}
{% block title %}Admin přihlášení{% endblock %}

{% block content %}
<section class="hero-report full">
  <div class="card-glass auth">
    <div class="header-row">
      <div>
        <div class="eyebrow">Admin</div>
        <h1 class="title"><span class="accent">Přihlášení</span></h1>
        <p class="sub">Zadej administrátorské heslo.</p>
      </div>
    </div>

    <form method="post" class="form" action="{{ url_for('admin.login', next=request.args.get('next')) }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <div class="form-row">
        <label for="password">Heslo</label>
        <div class="input-wrap">
          <input class="input" id="password" name="password" type="password"
                 autocomplete="current-password" placeholder="••••••••" required>
          <button type="button" class="eye-btn js-eye" aria-label="Zobrazit/skrýt heslo">Zobrazit</button>
        </div>
      </div>

      <div class="cta-row">
        <button class="btn btn-primary" type="submit">Přihlásit</button>
        <a class="btn btn-ghost" href="{{ url_for('bp.public_projects_list') }}">Zpět</a>
      </div>
    </form>
  </div>
</section>

<script>
  (function(){
    const eye = document.querySelector('.js-eye');
    const input = document.getElementById('password');
    if(!eye || !input) return;
    eye.addEventListener('click', () => {
      const show = input.type === 'password';
      input.type = show ? 'text' : 'password';
      eye.textContent = show ? 'Skrýt' : 'Zobrazit';
      input.focus();
    });
  })();
</script>
{% endblock %}
